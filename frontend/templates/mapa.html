<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Map — Cosmic Explorer</title>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { 
      font-family: 'Space Grotesk', system-ui, sans-serif; 
      margin:0;
      overflow: hidden;
    }
    #canvas-container { 
      width: 100vw; 
      height: 100vh; 
      display:block;
      transition: filter 0.3s ease;
    }
    .overlay { position: absolute; left: 1rem; top: 1rem; z-index: 40; }
    .tooltip {
      position: absolute;
      pointer-events: none;
      padding: 16px 24px;
      background: linear-gradient(135deg, rgba(20,20,40,0.95), rgba(10,10,25,0.9));
      color: #fff;
      border-radius: 12px;
      font-size: 14px;
      box-shadow: 0 12px 32px rgba(77, 166, 255, 0.3), 0 0 60px rgba(77, 166, 255, 0.1);
      border: 1px solid rgba(77, 166, 255, 0.3);
      transform: translate(-50%, -140%);
      z-index: 9999;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0;
      backdrop-filter: blur(12px);
    }
    .tooltip.show { 
      opacity: 1; 
      transform: translate(-50%, -160%) scale(1);
    }
    
    @keyframes tooltipPulse {
      0%, 100% { 
        box-shadow: 0 12px 32px rgba(77, 166, 255, 0.3), 0 0 60px rgba(77, 166, 255, 0.1);
        border-color: rgba(77, 166, 255, 0.3);
      }
      50% { 
        box-shadow: 0 12px 32px rgba(77, 166, 255, 0.5), 0 0 80px rgba(77, 166, 255, 0.2);
        border-color: rgba(77, 166, 255, 0.5);
      }
    }
    
    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    #search-panel {
      animation: fadeInScale 0.5s ease-out;
    }
    
    #btn-earth {
      animation: fadeInScale 0.5s ease-out 0.2s backwards;
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-white">
  <div class="overlay">
    <a href="/" class="inline-block bg-primary px-3 py-2 rounded text-white hover:bg-primary/80 transition">← Back</a>
  </div>
  <button id="btn-earth" style="position:absolute; bottom:2rem; right:2rem; z-index:50; padding:14px 28px; background:linear-gradient(135deg, #1e5aff, #1313ec); color:#fff; border:none; border-radius:12px; font-weight:700; font-size: 16px; cursor:pointer; box-shadow:0 8px 24px rgba(19, 19, 236, 0.4), 0 0 40px rgba(30, 90, 255, 0.2); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1px solid rgba(255, 255, 255, 0.2); letter-spacing: 0.5px;">
    ← RETURN TO EARTH
  </button>
  
  <div id="search-panel" style="position:absolute; top:2rem; right:2rem; z-index:50; background:linear-gradient(135deg, rgba(20,20,40,0.95), rgba(10,10,25,0.9)); padding:20px; border-radius:16px; box-shadow:0 12px 32px rgba(77, 166, 255, 0.2), 0 0 60px rgba(0,0,0,0.3); backdrop-filter:blur(16px); min-width:320px; border: 1px solid rgba(77, 166, 255, 0.2);">
    <div style="font-size: 18px; font-weight: 700; margin-bottom: 12px; color: #fff; text-shadow: 0 0 10px rgba(77, 166, 255, 0.5); letter-spacing: 0.5px;">EXPLORE EXOPLANETS</div>
    <input id="search-input" type="text" placeholder="Search planet..." style="width:100%; padding:12px 16px; background:rgba(255,255,255,0.08); border:2px solid rgba(77, 166, 255, 0.3); border-radius:10px; color:#fff; font-family:'Space Grotesk',sans-serif; font-size:15px; outline:none; transition: all 0.3s;" onfocus="this.style.borderColor='rgba(77, 166, 255, 0.6)'; this.style.background='rgba(255,255,255,0.12)'" onblur="this.style.borderColor='rgba(77, 166, 255, 0.3)'; this.style.background='rgba(255,255,255,0.08)'" />
    <div id="search-results" style="max-height:320px; overflow-y:auto; margin-top:12px;"></div>
  </div>
  
  <div id="canvas-container"></div>
  <div id="tooltip" class="tooltip"></div>
  
  <!-- Stats panel -->
  <div id="stats-panel" style="position:absolute; bottom:2rem; left:2rem; z-index:50; background:linear-gradient(135deg, rgba(20,20,40,0.95), rgba(10,10,25,0.9)); padding:16px 24px; border-radius:12px; box-shadow:0 8px 24px rgba(77, 166, 255, 0.2); backdrop-filter:blur(12px); border: 1px solid rgba(77, 166, 255, 0.2); animation: fadeInScale 0.5s ease-out 0.3s backwards;">
    <div style="font-size: 12px; color: rgba(255,255,255,0.6); margin-bottom: 4px; letter-spacing: 1px;">CATALOGED EXOPLANETS</div>
    <div style="font-size: 32px; font-weight: 900; color: #4da6ff; text-shadow: 0 0 20px rgba(77, 166, 255, 0.6);" id="planet-count">18</div>
    <div style="font-size: 11px; color: rgba(255,255,255,0.5); margin-top: 4px;">+ Earth (reference)</div>
  </div>

  <!-- Three.js from CDN (using import maps for ES modules) -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
      }
    }
  </script>
  <script type="module" src="/static/mapa.js"></script>
</body>
</html>
